<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Custom Volume Slider</title>
<style>
.volume-slider-container {
  width: 200px;
  height: 20px;
  background-color: #ddd;
  position: relative;
  cursor: pointer;
}

.volume-slider-track {
  width: 100%;
  height: 100%;
  background-color: #aaa;
  position: relative;
}

.volume-slider-thumb {
  width: 20px;
  height: 20px;
  background-color: #333;
  position: absolute;
  top: 50%;
  left: 0; /* Initially left-aligned */
  transform: translate(-50%, -50%);
  border-radius: 50%;
  cursor: pointer;
}
</style>
</head>
<body>

<div class="volume-slider-container" id="volumeSliderContainer">
  <div class="volume-slider-track" id="volumeSliderTrack">
    <div class="volume-slider-thumb" id="volumeSliderThumb"></div>
  </div>
</div>

<script>
// Add event listener for mouse down on the thumb
volumeSliderThumb.addEventListener('mousedown', startDrag);

// Add event listener for click on the track
volumeSliderTrack.addEventListener('click', moveThumb);

// Function to start dragging
function startDrag(e) {
  e.preventDefault(); // Prevents text selection while dragging

  // Calculate the initial position of the thumb relative to the container
  const thumbStartPosition = e.clientX - volumeSliderThumb.getBoundingClientRect().left;
    

  // Add event listeners for mousemove and mouseup
  document.addEventListener('mousemove', drag);
  document.addEventListener('mouseup', stopDrag);

  // Function to handle dragging
  function drag(e) {
    // Calculate the new position of the thumb
    let newThumbPosition = e.clientX - volumeSliderContainer.getBoundingClientRect().left - thumbStartPosition;
    updateThumbPosition(newThumbPosition);
  }

  // Function to stop dragging
  function stopDrag() {
    // Remove event listeners for mousemove and mouseup
    document.removeEventListener('mousemove', drag);
    document.removeEventListener('mouseup', stopDrag);
  }
}

// Function to move thumb to clicked position on the track
function moveThumb(e) {
  // Calculate the position of the click relative to the container
  const clickPosition = e.clientX - volumeSliderContainer.getBoundingClientRect().left;
  updateThumbPosition(clickPosition);
}

// Function to update thumb position and volume
function updateThumbPosition(newPosition) {
  // Restrict the thumb within the bounds of the track
  if (newPosition < 0) {
    newPosition = 0;
  } else if (newPosition > volumeSliderContainer.offsetWidth - volumeSliderThumb.offsetWidth) {
    newPosition = volumeSliderContainer.offsetWidth - volumeSliderThumb.offsetWidth;
  }

  // Set the new position of the thumb
  volumeSliderThumb.style.left = newPosition + 'px';

  // Calculate and update the volume based on the thumb position
  const volume = newPosition / (volumeSliderContainer.offsetWidth - volumeSliderThumb.offsetWidth);
  updateVolume(volume);
}

</script>

</body>
</html>
